{% extends 'hod_template/base_template.html' %}
{% load static %}
{% block title %}Staff Leave{% endblock title %}
{% block main_content %}
    <div class="single-pro-review-area mt-t-30 mg-b-15">
        <div class="container-fluid">
            <div class="row">
                <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                    <div class="product-payment-inner-st">
                        <ul id="myTabedu1" class="tab-review-design">
                            <li class="active"><a href="#description">View Staff Leave</a></li>
                        </ul>
                        <div id="myTabContent" class="tab-content custom-product-edit">
                            <div class="product-tab-list tab-pane fade active in" id="description">
                                <div class="row">
                                    <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                                        <div class="review-content-section">
                                            <div id="dropzone1" class="pro-ad">
                                                <table class="table">
                                                    <tr>
                                                        <th>ID</th>
                                                        <th>Staff ID</th>
                                                        <th>Staff Name</th>
                                                        <th>Leave Date</th>
                                                        <th>Leave Messages</th>
                                                        <th>Applied On</th>
                                                        <th>Action</th>
                                                    </tr>
                                                    {% for leave in leaves %}
                                                        <tr>
                                                            <td>{{ leave.id }}</td>
                                                            <td>{{ leave.staff_id.id }}</td>
                                                            <td>{{ leave.staff_id.admin.first_name }}{{ leave.staff_id.admin.last_name }}</td>
                                                            <td>{{ leave.leave_date }}</td>
                                                            <td>{{ leave.leave_message }}</td>
                                                            <td>{{ leave.created_at }}</td>
                                                            <td>
                                                                {% if leave.leave_status == 0 %}
                                                                    <a href="{% url 'staff_leave_approve' leave_id=leave.id %}" class="btn btn-block btn-success"> Approve </a>
                                                                    <a href="{% url 'staff_leave_disapprove' leave_id=leave.id %}" class="btn btn-block btn-danger"> Disapprove </a>
                                                                {% elif leave.leave_status == 1 %}
                                                                    <button class="btn btn-block btn-info" /> Approved
                                                                {% else %}
                                                                    <button class="btn btn-block btn-warning" /> Disapproved
                                                                {% endif %}
                                                            </td>
                                                        </tr>
                                                    {% endfor %}
                                                </table>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
{% endblock main_content %}